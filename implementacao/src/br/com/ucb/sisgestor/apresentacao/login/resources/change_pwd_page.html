<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="pt-br">
  <head>
    <title>P&aacute;gina de altera&ccedil;&atilde;o de senha</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <link rel="stylesheet" type="text/css" href="/css/bc_login.css" />
    <style type="text/css">
        /* estilo usado para mostrar elementos quando javascript estiver desligado. */
        .no_javascript_show {
            display: block;
        }
        /* estilo usado para esconder elementos quando javascript estiver desligado. */
        .no_javascript_hide {
            display: none;
        }
    </style>

    <script type="text/javascript" src="/js/bc_login.js"></script>
    <script type="text/javascript" src="/js/overlib/overlibmws.js"></script>
    <script type="text/javascript" src="/js/overlib/overlibmws_hide.js"></script>
    <script type="text/javascript" src="/js/overlib/overlibmws_draggable.js"></script>
    <script type="text/javascript">
<!--
        // variável global (flag) usada para indicar se o javascript presente no navegador é compatível com o
        // javascript usado nas funções abaixo (usa o getElementById).
        var compatible = document.getElementById;

        // esta função mostra a linha id de uma tabela.
        function show_table_row(id) {
          if(compatible) {
            var elem;

            elem = document.getElementById(id);
            if(elem) {
              try {
                elem.style.display = 'table-row';
              } catch(e) {
                elem.style.display = 'block';
              }
            }
          }
        }

        // esta função esconde a linha de uma tabela.
        function hide_table_row(id) {
          if(compatible) {
            var elem;

            elem = document.getElementById(id);
            if(elem) {
              elem.style.display = 'none';
            }
          }
        }

        // Esta função mostra os campos usados para login com CPF
        function login_com_cpf(flag) {
            if(compatible) {
                var elem;

                // esconde os campos para login com Unidade/Operador
                hide_table_row('linha_unidade');
                hide_table_row('linha_dependencia');
                hide_table_row('linha_operador');

                // mostra os campos para login com CPF
                show_table_row('linha_cpf');

                // limpa o conteúdo dos campos.
                limpa_conteudo(flag);

                // ajusta o cookie.
                setCookie('bacen.security.accessChoice', 'cpf');

                // move foco para o campo de cpf
                elem = document.getElementById('cpf');
                elem.focus();
            }

            return true;
        }

        // Esta função mostra os campos usados para login com Unidade/Dependência/Operador
        function login_com_operador(flag) {
            if(compatible) {
                var elem;

                // mostra os campos para login com Unidade/Operador
                show_table_row('linha_unidade');
                #SHOW_DEPENDENCIA#
                //show_table_row('linha_dependencia');
                show_table_row('linha_operador');

                // esconde os campos para login com CPF
                hide_table_row('linha_cpf');

                // limpa o conteúdo dos campos.
                limpa_conteudo(flag);

                // ajusta o cookie.
                setCookie('bacen.security.accessChoice', 'operador');

                // move foco para o campo de unidade
                elem = document.getElementById('unidade');
                elem.focus();
            }

            return true;
        }

        // Esta função limpa o conteúdo do campos.
        function limpa_conteudo(flag) {
            if(compatible && flag) {
                var elem;

                elem = document.getElementById('unidade');
                elem.value = '';
                elem = document.getElementById('dependencia');
                elem.value = '';
                elem = document.getElementById('operador');
                elem.value = '';
                elem = document.getElementById('cpf');
                elem.value = '';
                elem = document.getElementById('senha');
                elem.value = '';
                elem = document.getElementById('senhanova');
                elem.value = '';
                elem = document.getElementById('senhanova2');
                elem.value = '';
            }

            return true;
        }

        // esta função é chamada durante o onload, mostrando os campos para login com operador.
        function ajusta_form() {
            if(compatible) {
                var elem;
                var cookieValue;

                // mostra as opções de login
                show_table_row('opcao_acesso');
                mostra_asteriscos();

                // verifica se existe cookie com a opção de login
                cookieValue = getCookie('bacen.security.accessChoice');
                if (cookieValue == 'cpf') {
                  // escolhe o login com operador como opção inicial:
                  // marca o radio de login com operador.
                  elem = document.getElementById('opcao_cpf');
                  elem.checked = 'true';
                  // chama função login com operador.
                  return login_com_cpf(false);
                } else {
                  // escolhe o login com operador como opção inicial:
                  // marca o radio de login com operador.
                  elem = document.getElementById('opcao_operador');
                  elem.checked = 'true';
                  // chama função login com operador.
                  return login_com_operador(false);
                }
            }

            return true;
        }

        // Cria um cookie com o nome e valor fornecidos.
        function setCookie(nome, valor) {
            document.cookie=nome + "=" + escape(valor);
        }

        // Retorna o valor de um cookie
        function getCookie(nome) {
          var inicio;
          var fim;
          if (document.cookie.length > 0) {
            inicio = document.cookie.indexOf(nome + "=");
            if (inicio != -1) {
              inicio = inicio + nome.length + 1;
              fim = document.cookie.indexOf(";", inicio);
              if (fim == -1) {
                fim = document.cookie.length;
              }

              return unescape(document.cookie.substring(inicio, fim));
            }
          }
          return "";
        }

        // mostra o asterisco associado aos campos obrigatórios
        function mostra_asteriscos() {
          if(compatible) {
            var elem;

            elem = document.getElementById('asterisco1');
            if(elem) {elem.style.display = 'inline';}
            elem = document.getElementById('asterisco2');
            if(elem) {elem.style.display = 'inline';}
            elem = document.getElementById('asterisco3');
            if(elem) {elem.style.display = 'inline';}
            elem = document.getElementById('asterisco4');
            if(elem) {elem.style.display = 'inline';}
            elem = document.getElementById('asterisco5');
            if(elem) {elem.style.display = 'inline';}
            elem = document.getElementById('asterisco6');
            if(elem) {elem.style.display = 'inline';}
            elem = document.getElementById('obs');
            if(elem) {elem.style.display = 'block';}
          }
          
          return true;
        }
// -->
    </script>
  </head>
  <body onload="ajusta_form()" style="background-color: #ffffff; margin:0px; padding:0px">
    <!-- Cabeçalho -->
    <table style="width:100%;" cellspacing="0" cellpadding="0" border="0">
      <tr>
        <td class="cab">
          <img style="margin-left:3px; margin-top:3px"
               src="/img/logoSistemas.gif"
               Alt="Logomarca do Banco Central do Brasil" />
        </td>
        <td class="cab" width="95%" #MARCA_AMBIENTE#>
          <div><strong>SISBACEN</strong></div>
          <div>#TITULO_LOGIN#</div>
        </td>
      </tr>
      <tr>
        <td colspan="2" align="left" class="fuM">
          &nbsp;
        </td>
	  </tr>
    </table>

    <!-- Corpo -->
    <br />
    <br />
    <div style="width:98%;height:65%;margin: 0 auto;" id="frame_principal">
      <table style="width:98%; margin:auto;" border="0">
        <tr>
          <td class="centralizado" width="49%">
            <div class="#CLASSE_MSG_ERRO#">
              <img src="/img/erro_12x12.gif" alt="Mensagem de erro" />
                &nbsp;#MENSAGEM#&nbsp;<br /><br />
            </div>
            <noscript>
              <div class="textoPequeno aesquerda" id="texto_explicativo">
                <p>
&bull; Usu&aacute;rios SISBACEN devem informar a unidade<span #OPCAO_DEPENDENCIA#>, a depend&ecirc;ncia
(o campo &quot;Depend&ecirc;ncia&quot; s&oacute; dever&aacute; ser preenchido se o campo &quot;Unidade&quot; 
for composto por caracteres num&eacute;ricos)</span> e o operador nos campos correspondentes.
                </p>
                <p>
&bull; Pessoas f&iacute;sicas devem informar os primeiros 9 d&iacute;gitos do CPF no campo correspondente.
                </p>
                <br />
              </div>
            </noscript>
            <div class="no_javascript_hide obs" id="obs" style="width:80%;margin:auto;">Os campos com * s&atilde;o de preenchimento obrigat&oacute;rio</div>
            <div>
              <form id="form_op" class="bclogin_formulario" name="authDataForm" action="dologin" method="post">
                <!-- Campo escondido: operação de troca de senha. -->
                <div style="display:none;">
                  Opera&ccedil;&atilde;o&nbsp;
                  <input type=hidden name="operacao" value="altera" />
                </div>
                <table class="tabela" cellspacing="0" cellpadding="3"
                  style="width:80%;margin:auto;">
                  <caption class="fundoPadraoAEscuro2" style="margin:auto; text-align:left">
                    <strong>&nbsp;Altera&ccedil;&atilde;o de senha no SISBACEN</strong>
                  </caption>
                  <tr class="no_javascript_hide fundoPadraoAClaro2" id="opcao_acesso">
                    <td class="nomeCampo">Acesso&nbsp;</td>
                    <td nowrap class="aesquerda" style="vertical-align: middle;">
                      <input id="opcao_operador" type="radio" name="opcao_login" value="operador"
                        onclick="login_com_operador(true)" /> Usu&aacute;rio SISBACEN
                      <input id="opcao_cpf" type="radio" name="opcao_login" value="cpf"
                        onclick="login_com_cpf(true)" /> CPF</div>
                    </td>
                  </tr>
                  <tr class="fundoPadraoAClaro3" id="linha_unidade">
                    <td class="nomeCampo"><label for="unidade">Unidade&nbsp;<span class="no_javascript_hide" id="asterisco1">*</span></label></td>
                    <td class="aesquerda">
                      <input id="unidade" maxlength="5" name="unidade" size="15"
                        onKeyup="autotab(event, this, #UNIDADE_AUTOTAB#)"
                        title="Informe a unidade." tabindex="1" value="#UNIDADE#" />
                    </td>
                  </tr>
                  <tr class="fundoPadraoAClaro3" id="linha_dependencia" #OPCAO_DEPENDENCIA#>
                    <td class="nomeCampo"><label for="dependencia">Depend&ecirc;ncia&nbsp;</label></td>
                    <td class="aesquerda">
                      <input id="dependencia" maxlength="4" name="dependencia" size="15"
                        onKeyup="autotab(event, this, document.authDataForm.operador)"
                        title="Informe a depend&ecirc;ncia" tabindex="2" value="#DEPENDENCIA#" />
                      <script>
<!--
                        var TabelaAjuda_dependencia =  
    '<table style="border:1pt #4A73A2 solid;" width="400" cellspacing="0">' +
    '  <tr>' +
    '    <td class="fu1">' +
    '            <div class="tiNIE">Depend&ecirc;ncia</div>' +
    '    </td>' +
    '  </tr>' +
    '  <tr>' +
    '    <td class="fundoPadraoAClaro3" >' +
    '      O campo &quot;Depend&ecirc;ncia&quot; s&oacute; dever&aacute; ser preenchido se o campo &quot;Unidade&quot; for composto por caracteres num&eacute;ricos.' +
    '      <div align="center">' + 
    '        <a href="javascript:return cClick();" title="Fechar" onClick="return cClick();">' +
    '          <span class="fundoPadraoAEscuro3">' +
    '            &nbsp;<img height="12" alt="Fechar" src="/img/fundoclaro/fechar.gif" width="12" border="0">&nbsp;' +
    '          </span>&nbsp;Fechar'+ 
    '        </a>' +
    '      </div>' +
    '    </td>' +
    '  </tr>' +
    '</table>';

                        document.writeln('<a href="javascript:void(0);" ');
                        document.writeln('   onclick="return overlib(TabelaAjuda_dependencia, CAPTION,');
                        document.writeln('                            \'Componentes_cabecalho_editaDataBalanco!\',');
                        document.writeln('                            FULLHTML, VAUTO, WRAP, STATUS,\'Banco Central do Brasil\',');
                        document.writeln('                            CLOSETEXT,\'Fechar\', CLOSECLICK, STICKY,');
                        document.writeln('                            DRAGGABLE,WIDTH,200 );"');
                        document.writeln('   onmouseout="nd();">');
                        document.writeln('   <span>');
                        document.writeln('     &nbsp;<img height="12" alt="" src="/img/fundoazul/glos2.gif" width="8" border="0" />');
                        document.writeln('     &nbsp;');
                        document.writeln('   </span>');
                        document.writeln('</a>');
// -->
                      </script>
                    </td>
                  </tr>
                  <tr class="fundoPadraoAClaro3" id="linha_operador">
                    <td class="nomeCampo"><label for="operador">Operador&nbsp;<span class="no_javascript_hide" id="asterisco2">*</span></label></td>
                    <td class="aesquerda">
                      <input id="operador" maxlength="10" name="operador" size="15"
                        onKeyup="autotab(event, this, document.authDataForm.senha)"
                        title="Informe o operador" tabindex="3" value="#OPERADOR#" />
                    </td>
                  </tr>
                  <tr class="fundoPadraoAClaro3" id="linha_cpf">
                    <td class="nomeCampo"><label for="cpf">CPF&nbsp;<span class="no_javascript_hide" id="asterisco3">*</span></label></td>
                    <td class="aesquerda">
                      <input id="cpf" maxlength="9" name="cpf" size="15" value="#CPF#"
                        onKeyup="autotab(event, this, document.authDataForm.senha)"
                        title="Informe os primeiros 9 d&iacute;gitos do CPF" tabindex="4" />
                    </td>
                  </tr>
                  <tr class="fundoPadraoAClaro3">
                    <td class="nomeCampo"><label for="senha">Senha atual&nbsp;<span class="no_javascript_hide" id="asterisco4">*</span></label></td>
                    <td class="aesquerda">
                      <input id="senha" maxlength="8" name="senha" size="15" type="password"
                        autocomplete="off" onKeyup="autotab(event, this, document.authDataForm.senhanova)"
                        title="Informe a senha atual" tabindex="5" />
                    </td>
                  </tr>
                  <tr class="fundoPadraoAClaro3">
                    <td class="nomeCampo"><label for="senhanova">Senha nova&nbsp;<span class="no_javascript_hide" id="asterisco5">*</span></label></td>
                    <td class="aesquerda">
                      <input id="senhanova" maxlength="8" name="senhanova" size="15" type="password"
                        autocomplete="off" onKeyup="autotab(event, this, document.authDataForm.senhanova2)"
                        title="Informe a senha nova" tabindex="6" />
                    </td>
                  </tr>
                  <tr class="fundoPadraoAClaro3">
                    <td class="nomeCampo"><label for="senhanova2">Confirma&ccedil;&atilde;o de senha nova&nbsp;<span class="no_javascript_hide" id="asterisco6">*</span></label></td>
                    <td class="aesquerda">
                      <input id="senhanova2" maxlength="8" name="senhanova2" size="15" type="password"
                        autocomplete="off" title="Confirme a senha nova" tabindex="7" />
                    </td>
                  </tr>
                </table>
                <br />
                <input class="botao" type="submit" name="confirmar_troca" value=" Confirmar "
                       title="Confirmar a troca de senha" tabindex="8" />
                <input class="botao" type="submit" name="cancelar_troca"  value="  Cancelar "
                       title="Cancelar a troca de senha" tabindex="9" />
              </div>
            </form>
          </td>
          <td width="2%">&nbsp;</td>
          <td class="adireita" width="49%">
            <img width="100%" src="#FIGURA_SISTEMA#" alt="Logotipo do sistema" />
            <div class="bclogin_telefone">
              Informa&ccedil;&otilde;es: #TELEFONE#
            </div>
          </td>
        </tr>
      </table>
    </div>
    <br />
    <br />

    <!-- Rodapé -->
    <div class="bclogin_rodape">
      <div>
        <a title="Mostrar ajuda em uma nova janela." class="template" href="dologin?ajuda=true" target="_blank">Ajuda </a>
        <span id="estilo_acess_48">|</span>
        <a title="Mostrar informa&ccedil;&otilde;es do SISBACEN em uma nova janela."
           class="template"
           href="https://www.bcb.gov.br/?SISBACEN"
           target="_blank">Informa&ccedil;&otilde;es SISBACEN</a>
      </div>
    </div>
  </body>
</html>
